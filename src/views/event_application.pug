extends includes/dashboard_bar

block main
    .container-lg.text-center.p-4.border

        .d-flex.align-items-center.justify-content-center
            h2.px-2 Application Status
            // TODO: dynamically load badges
            if (event_application[0][3] === 'accepted')
                span.badge.text-bg-success Accepted

            else if (event_application[0][3] === 'pending')
                span.badge.text-bg-secondary Pending

            else if (event_application[0][3] === 'denied')
                span.badge.text-bg-secondary Denied

            else if (event_application[0][3] === 'flagged')
                span.badge.text-bg-secondary Flagged

            else if (event_application[0][3] === 'waitlisted')
                span.badge.text-bg-secondary Waitlisted

            //
            //
            //else if (event_application[0][3]  === 'undecided')
            //    span.badge.text-bg-secondary Undecided
            //
            //else if (event_application[0][3] === 'declined')
            //    span.badge.text-bg-danger Declined

        a(href='/dashboard/event_applications').btn.btn-secondary Go Back

        hr

        mixin application(label)

            .row.mb-3
                label.col-sm-2.col-form-label(for!=attributes.for)= label
                .col-sm-6
                    input.form-control(type='text', readonly, id!=attributes.id value!=attributes.value)
        form#editing

            .row.mb-3
                label.form-label(for='age') Age
                .col-sm-6
                    input.form-control#age(type='number', name='age', min='13', max='99', value= event_application[0][4], disabled)



            //+application('Name')(value=event_application.name, for="name", id="name")
            //+application('Age')(value= event_application[0][4], for="age", id="age")
            //+application('Country')(value= event_application[0][5], for="country", id="country")
            //+application('Major')(value= event_application[0][6], for="school", id="school")
            //+application('Major')(value= event_application[0][7], for="major", id="major")


            //.row.mb-3
            //    label.col-sm-2.col-form-label(for='status')
            //    .col-sm-6
            //        select.form-select#status(disabled)
            //            option(selected='', value= event_application[0][3]) Open this select menu
            //            option(value='1') One
            //            option(value='2') Two
            //            option(value='3') Three


            //+application('Status')(value= event_application[0][3], for="status", id="status")

        .d-flex.justify-content-end
            // TODO: add query params
            //if (event_application[0][3] === 'accepted')
            button.mx-1.btn.btn-success Accept
            //if (event_application[0][3] === 'denied')
            button.mx-1.btn.btn-danger Deny
            //if (event_application[0][3] === 'waitlisted')
            button.mx-1.btn.btn-warning Waitlist
            //if (event_application[0][3] === 'flagged')
            button.mx-1.btn.btn-secondary Flag

            button.mx-1.btn.btn-info(onclick=`edit()`) Edit

            button#update.mx-1.btn.btn-success.disabled(disabled) Update/Save


    .container-md.text-center.p-4.border
        h2 Resume
        hr


